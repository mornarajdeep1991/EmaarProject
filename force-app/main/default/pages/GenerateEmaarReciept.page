<apex:page controller="GenerateEmaarReciept" doctype="html-5.0" showHeader="false"  renderAs="Pdf" sidebar="false" standardStylesheets="false" applyBodyTag="false" applyHtmlTag="false">
<head>
<style type="text/css" >
@page {
	margin-top:40px;
	margin-bottom:40px;
	border:1px solid black;
	@top-center {
	    content: element(header); 
	}
	@bottom-left {
         content: element(footer);
    }
}
div.footer {
     text-align:right;
     display: block;
     padding: 0px 5px 0px 5px;
     position: running(footer);
}
td.label{
	font-weight: bold;
}
</style>
</head>
<body style="padding:10px; display:block">
<div class="footer">
    <table width="100%">
        <tr>
            <td>
                <div style="text-align:left;font-size:11px;"> Generated By : {!$User.FirstName} {!$User.LastName}</div>
            </td>
            <td>
                <div style="text-align:right;font-size:11px;"> 
                    <apex:outputText value="{0,date,dd/MM/yyyy}"> 
                     <apex:param value="{!NOW()}" /> 
                    </apex:outputText> 
                </div>
            </td>
        </tr>
    </table> 
</div>
<apex:variable value="{!1}" var="counter"/>
<apex:repeat value="{!lstwrap}" var="obj">
	<div>
		<table class="table" width="100%" cellpadding="5" cellspacing="3">
            <tr>
            	<td colspan="2">
	            	<table class="inner-table">
	            		<tr>
			               <td valign="top" width="80">
			                  <apex:image url="/servlet/servlet.FileDownload?file={!ProjectLogoMap['Emaar']}" />
			               </td>
			               <td style="padding-top: 5px;">
			                  <span style="font-size: 20px;">Emaar Misr for Development S.A.E</span><br />
			                  <span>H/Q at Emaar Misr Sales Center, P.O. Box 229, Mokattam Egypt</span><br />
			                  <span><b>Tel : </b>+2 02 25032000</span><br />
			                  <span><b>Fax : </b> +2 02 25032020</span><br />
			               </td>            		
			           </tr>
	            	</table>
	            </td>
            </tr>

            <tr>
            	<td colspan="2" align="center"><h3 style="border-bottom:2px solid #000000; padding-bottom: 5px; display: inline-block;">Receipt</h3></td>
            </tr>

            <tr>
            	<td valign="top">
            		<table class="inner-table">
            			<tr>
            				<td class="label">Amount Collected :</td>
            				<td>
            					<apex:outputText value="{0, number, ###,##0.00}">
	                                {!obj.strCURRENCY} <apex:param value="{!obj.AMOUNT}"/>
	                            </apex:outputText>
            				</td>
            			</tr>
            		</table>
            	</td>
            	<td>
            		<table class="inner-table">
            			<tr>
            				<td class="label">Receipt No :</td>
            				<td>{!obj.DOCUMENTNUMBER}</td>
            			</tr>

            			<tr>
            				<td class="label">Receipt Date :</td>
            				<td>
            					<apex:outputText value="{0,date,dd-MMM-yyyy}">
                                 <apex:param value="{!obj.RECEIPT_DATE}" />
                              	</apex:outputText>
            				</td>
            			</tr>

            			<tr>
            				<td class="label">Customer No :</td>
            				<td>{!obj.strCUSTOMER_ID}</td>
            			</tr>
            		</table>
            	</td>
            </tr>

            <tr>
            	<td colspan="2">
            		<table class="inner-table">
            			<tr>
            				<td class="label" width="35%">Received with Thanks From</td>
            				<td>{!obj.customerName}</td>
            			</tr>
            			<tr>
            				<td class="label">Amount</td>
            				<td>{!obj.strCURRENCY} {!obj.strPRICE_IN_WORDS}</td>
            			</tr>
            			<tr>
            				<td class="label">Payment Method</td>
            				<td>{!obj.strPAYMENT_METHOD}</td>
            			</tr>
            			<tr>
            				<td class="label">Cheque No</td>
            				<td>{!obj.CHEQUE_NUMBER}</td>
            			</tr>
            			<tr>
            				<td class="label">Cheque Date</td>
            				<td>
            					<apex:outputText value="{0,date,dd-MMM-yyyy}">
		                        <apex:param value="{!obj.Maturity_Date}" />
		                     </apex:outputText>
            				</td>
            			</tr>
            			<tr>
            				<td class="label">Unit Name</td>
            				<td>{!obj.UNIT_NAME}</td>
            			</tr>
            			<tr>
            				<td class="label">Financiers</td>
            				<td>{!obj.strFINANCIER_NAME}</td>
            			</tr>
            			<tr>
            				<td class="label">Description</td>
            				<td>{!obj.strCOMMENTS}</td>
            			</tr>
            			<tr>
            				<td class="label">Received by</td>
            				<td>{!obj.RecivedName}</td>
            			</tr>
            		</table>
            	</td>
            </tr>
         </table>
	</div>
<apex:variable value="{!counter +1}" var="counter"/>
<apex:outputPanel rendered="{!lstwrap.size >= counter}" layout="block" style="page-break-after: always"/>
</apex:repeat>
</body>
</apex:page>